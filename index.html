<html>
  <head>
    <meta charset="utf-8">
    <title>GSAPP</title>
    <link href="./stylesheets/style.css" rel="stylesheet">
    <link
    href='http://fonts.googleapis.com/css?family=Roboto:900,500,400,300,100' rel='stylesheet' type='text/css'>
  </head>
  <title>GSAPP - Spring 2016</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link href="./stylesheets/style.css" rel="stylesheet">
  
  <script src="./javascript/bootstrap.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/jquery.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
  <script src="js/angular.min.js"></script>
    <script src="js/angular-route.min.js"></script>
    <script type="text/javascript" src="js/ui-bootstrap-0.9.0.min.js"></script>
    <!-- Angular Scripts -->
    <script src="scripts/app.js" ></script>
    <script src="scripts/courseCtrl.js" ></script>
    <!-- Site originally developed and designed by Ranjith Kumar (@ranji2612) & Ziang Jha -->
    <!-- Updated by Danielle Hill (danilaurenhill) -->
</head>
<body ng-app="mainApp">
  <div ng-controller="homeCtrl">
    <div class="nav">
      <div class="navbar">
        <h3>GSAPP - Spring 2016</h3>
      </div>
    </div>
    <div class="container">
      <h2>Architecture</h2>
      <div class="row">
        <div class="search-wrapper">
            <input type="text" class="form-control ng-pristine ng-valid ng-touched" ng-    model="searchText" placeholder="Search anything..">
        </div>
        <div class="section-box">
          <div class="sections col-sm-12">
            <div class="col-xs-1"></div>
            <div class="col-xs-1">Course</div>
            <div class="col-xs-2">Title</div>
            <div class="col-xs-2">Instructor</div>
            <div class="col-xs-2">Requirements</div>
            <div class="col-xs-2">Location & Time</div>
            <div class="col-xs-2">
              <div class="col-xs-9">Session & Points</div>
              <div class="col-xs-3">Call No</div>
            </div>
          </div>
        </div>

        <div class="col-sm-12 courserow" ng-repeat= "course in courses | filter : {type : category.code} | filter : searchText | orderBy : 'c_id'">
        
        <div ng-click="toggleCourseDetails(course.call_num)" class="row">
            <div class="col-xs-12"><br/></div>
            <!-- Design 1 -->
            <div class="col-xs-1"  align="center">
                <span class="glyphicon glyphicon-collapse-down" aria-hidden="true" ng-hide="isVisibleCourseDetails(course.call_num)"></span>
                <span class="glyphicon glyphicon-collapse-up" aria-hidden="true" ng-show="isVisibleCourseDetails(course.call_num)"></span></div>
            <div class="col-xs-1">{{course.c_id}}</div>
            <div class="col-xs-2">{{course.c_title + ' - ' + ('00'+course.section).slice(-3)}}</div>
            <div class="col-xs-2 prof">{{faculty[course.f1_id].f_name}}{{(faculty[course.f2_id]!= null) &&  (', '+faculty[course.f2_id].f_name) || ''}}</div>
            <div class="col-xs-2">{{course.require}}</div>
            <div class="col-xs-2">
                {{course.location}}<br/>
                {{course.schedule}}
            </div>
            <div class="col-xs-2">
                <div class="col-xs-8">
                    {{course.session}}<br/>
                    {{course.points}} Points<br/>
                </div>
                <div class="col-xs-4">
                    {{course.call_num}}
                </div>
            </div>
            
            <!--
            <div class="col-xs-1">{{course.call_num}}</div>
            -->
            <!-- Design 2 - New Design (div fashion) -->
            <div class="col-xs-12"><br/></div>
        </div>
        
        <!-- COURSE DETAIL - to be shown only when the course is clicked -->
        <div class="row details" ng-show="isVisibleCourseDetails(course.call_num)">
            <div class="col-sm-12">
            
                <div class="col-sm-4">
                    <!-- All Previous Syllabus -->
                    <h5>Available Syllabi</h5>
                    <h6>
                        <a href = "http://www.columbia.edu/cu/bulletin/uwb/subj/{{category.subject+'/'+course.c_id.slice(-5).toUpperCase()+'-'+course.year+course.semester+'-'+('00'+course.section).slice(-3)}}" target="_blank">
                        Bulletin Page</a>
                    </h6>
                    <h6>
                        <a href = "https://courseworks.columbia.edu/public/{{category.subject+course.c_id.slice(-5).toUpperCase()+'_'+('00'+course.section).slice(-3)+'_'+course.year+'_'+course.semester+'/'}}" target="_blank">
                        Courseworks(Syllabus)</a>
                    </h6>
                    <!--
                    <div ng-repeat = "(f_id,fac) in syllabusMap[course.c_id]" style="font-size:10px;height=100px;scroll:true;">
                        <div ng-repeat="syl in fac | filter : {section : course.section}">
                            <a href="../syllabi2/{{syl.c_id+'/'+syl.year+'/'+syl.semester+'/'+('00'+syl.section).slice(-3)+'/'+syl.s_title}}" target="_blank">{{syl.year+' '+getSemester(syl.semester) + ' ' + faculty[f_id].f_name}}</a>
                        </div>
                    </div>
                    -->
                    <!-- Rewritting to provide the sorting feature
                        converting list of objects of list of objects to just list of objects.. Yeah its complicated.. :P -->
                    <div ng-repeat = "syl in getAllSyl(syllabusMap[course.c_id], course.section) | filter : {section : course.section} | orderBy : '-year'" style="font-size:10px;height=100px;scroll:true;">
                        <a href="../syllabi2/{{syl.c_id+'/'+syl.year+'/'+syl.semester+'/'+('00'+syl.section).slice(-3)+'/'+syl.s_title}}" target="_blank">{{syl.year+' '+getSemester(syl.semester) + ' ' + faculty[syl.f_id].f_name}}</a>
                    </div>
                </div>
                <div class="col-sm-4">
                    <!-- Previous Syllabus by the instructor -->
                    <h5>Instructor's Previous Syllabus</h5>
                    <h6 ng-hide="syllabusMap[course.c_id][course.f1_id].length">No Prev Syllabi..</h6>
                    <div ng-repeat="syl in syllabusMap[course.c_id][course.f1_id]" style="font-size:10px;">
                        <a href="../syllabi2/{{syl.c_id+'/'+syl.year+'/'+syl.semester+'/'+('00'+syl.section).slice(-3)+'/'+syl.s_title}}" target="_blank">{{syl.year+' '+getSemester(syl.semester)}}</a>
                    </div>
                </div>
                <div class="col-sm-4">
                    <!-- Previous Syllabus by the instructor -->
                    <h5>Images</h5>
                    <h6 ng-hide="imageMap[course.c_id][course.f1_id].length">No Images..</h6>
                    <div ng-repeat="img in imageMap[course.c_id][course.f1_id]" style="font-size:10px;">
                        <a href="../images2/{{img.c_id+'/'+img.year+'/'+img.semester+'/'+('00'+img.section).slice(-3)+'/'+img.img_title}}" target="_blank">{{img.img_title.split('_').splice(4).join(' ')}}</a>
                    </div>
                </div>
                
            </div>
            <div class="col-sm-12">
                <br/>
            </div>
            
        </div>


        <!-- <div class="info-box">
          <div class="dropdown">
            <span class="glyphicon glyphicon-collapse-down"></span>
              <div class="dropdown-content">
                <a href="#" class="info-title col-xs-4"><center>Available Syllabi</center>
                  <p class="content col-xs-4">Syllabi Syllabi Syllabi</p>
                </a>
                <a href="#" class="info-title col-xs-4"><center>Instructor's Previous Syllabus</center>
                  <p class="content col-xs-3">Previous Syllabus</p>
                </a>
                <a href="#" class="info-title col-xs-4"><center>Images</center>
                  <p class="content col-xs-4">Images</p>
                </a>
              </div>
            </div>
          <div class="course-num"><p>A4002</p></div>
          <div class="title"><p>CORE ARCHITECTURE STUDIO || - 001</p></div>
          <div class="instructor"><p>MIMI HOANG</p></div>
          <div class="requirements"><p>STUDIO-REQUIRED 1ST YR MARCH</p></div>
          <div class="loc-time"><p>500 AVERY NORTH M,W,& F 2PM - 6PM</p></div>
          <div class="sess-points"><p>FULL SEMESTER 9 points</p></div>
          <div class="call-num"><p>65796<p></div>
        </div>
      </div>
    </div>
  </div> -->
  <div class="footer">
    <a class="white" href="http://www.arch.columbia.edu" target="_blank">GSAPP @ Columbia</a>
  </div>

    <!-- Loading scripts at the end -->
  <script src="js/jquery.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
  <script src="js/angular.min.js"></script>
    <script src="js/angular-route.min.js"></script>
    <script type="text/javascript" src="js/ui-bootstrap-0.9.0.min.js"></script>
    <!-- Angular Scripts -->
    <script src="scripts/app.js" ></script>
    <script src="scripts/courseCtrl.js" ></script>
  </body>
</html>
